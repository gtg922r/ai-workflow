{
  "projectName": "ai-workflow",
  "branchName": "main",
  "userStories": [
    {
      "id": "installer-defaults-refine",
      "title": "Refine Installer Defaults & Script Selection",
      "description": "Streamline the installation process by changing the default selections. Commands, Skills, and Extensions should be selected by default to encourage a complete setup. Scripts, being more specialized tools, should require explicit user selection via a granular list.",
      "acceptanceCriteria": [
        "Commands, Skills, and Extensions are selected for installation by default.",
        "The 'Scripts' category triggers a multi-select interface (e.g., checkbox list) showing all available scripts found in the `scripts/` directory.",
        "Scripts are NOT selected by default in this list; the user must choose which ones they want.",
        "The installation summary correctly reflects the specific scripts chosen."
      ],
      "passes": true
    },
    {
      "id": "ralph-cli-default",
      "title": "Make Console CLI the Default for Runner Ralph",
      "description": "Replace the heavy-weight TUI with the standard console/CLI interface as the default mode of operation for Runner Ralph.",
      "acceptanceCriteria": [
        "Runner Ralph starts in console mode by default without the --no-tui flag.",
        "The TUI mode is still accessible via a flag (e.g., --tui) if preserved, or removed if obsolete.",
        "The console interface maintains its visual polish (Rich-based formatting)."
      ],
      "passes": true
    },
    {
      "id": "workflow-doctor-api-keys",
      "title": "Downgrade API Key Checks in Workflow Doctor",
      "description": "Modify the workflow-doctor to treat missing API keys as informational rather than critical issues, acknowledging that agents provide their own auth flows.",
      "acceptanceCriteria": [
        "Missing API keys are reported as informational or warnings, not critical errors.",
        "The tool suggests using the agent's built-in auth flow (e.g., firebase login, claude auth) as the primary resolution.",
        "The overall doctor status remains 'healthy' if only API keys are missing."
      ],
      "passes": true
    },
    {
      "id": "ralph-console-polish",
      "title": "Refine Runner Ralph Console Output Formatting",
      "description": "Improve the visual clarity of the console output by removing or relocating the per-line timestamps that currently break ASCII/Rich formatting structures like boxes.",
      "acceptanceCriteria": [
        "Per-line timestamps are removed from the default console output.",
        "Visual structures (like boxes or dividers) render correctly without interruption.",
        "Optional: Timestamps can be re-enabled via a --verbose or --timestamps flag if needed for debugging."
      ],
      "passes": true
    },
    {
      "id": "ralph-prd-location-flag",
      "title": "Add PRD Path Option to Runner Ralph",
      "description": "Implement a CLI argument to allow users to specify a custom path for the PRD file, increasing tool flexibility.",
      "acceptanceCriteria": [
        "New `--prd` (or `-p`) flag added to the runner-ralph CLI.",
        "The tool successfully loads and validates the PRD from the provided path.",
        "Defaults to `prd.json` in the current working directory if the flag is omitted."
      ],
      "passes": true
    },
    {
      "id": "installer-npm-warning-fix",
      "title": "Fix NPM Ignored Files Warning in Installer",
      "description": "Resolve the 'npm warn gitignore-fallback' warning during installation by explicitly configuring file exclusion for the package.",
      "acceptanceCriteria": [
        "Installation via the install script no longer produces the '.npmignore' warning.",
        "Appropriate exclusion configuration (e.g., adding a .npmignore or using 'files' in package.json) is implemented.",
        "The package still correctly includes all necessary installation artifacts."
      ],
      "passes": true
    },
    {
      "id": "ralph-story-selection",
      "title": "Interactive Story Selection for Runner Ralph",
      "description": "Add an interactive selection screen to Runner Ralph, allowing users to choose specific stories from the PRD and define their execution order.",
      "acceptanceCriteria": [
        "Interactive story selection is triggered by a new `--select` flag.",
        "The menu displays all available stories from the PRD, allowing multi-select.",
        "The tool processes only the selected stories in the specified or defined order.",
        "Default behavior (run all in order) is maintained when the `--select` flag is omitted."
      ],
      "passes": true
    },
    {
      "id": "ralph-remove-tui",
      "title": "Remove Obsolete TUI Code from Runner Ralph",
      "description": "Completely remove the heavy-weight TUI implementation and its associated CLI flags from Runner Ralph, streamlining the codebase and focusing on the polished console/CLI interface.",
      "acceptanceCriteria": [
        "All TUI-related code and dependencies (e.g., Textual) are removed from the codebase.",
        "The `--tui` CLI flag is removed.",
        "Runner Ralph functions correctly using only the console interface as the sole mode of operation.",
        "Documentation and help text are updated to reflect the removal of TUI mode."
      ]
    },
    {
      "id": "ralph-agent-streaming",
      "title": "Implement Streaming Agent Output in Runner Ralph",
      "description": "Enhance real-time feedback by implementing streaming support for agent output utilizing streaming-json options. Reference: https://code.claude.com/docs/en/headless and https://cursor.com/docs/cli/headless",
      "acceptanceCriteria": [
        "Integrate streaming-json/headless options for supported agents (Claude, Cursor).",
        "Display a scrolling status section showing only the last 3-4 lines of agent output.",
        "The status indicator remains compact and does not fill the entire console.",
        "Streaming handles partial JSON chunks correctly to maintain data integrity."
      ]
    },
    {
      "id": "ralph-gemini-support",
      "title": "Add Gemini CLI Agent Support to Runner Ralph",
      "description": "Expand Runner Ralph's agent compatibility by adding support for the Gemini CLI agent (https://geminicli.com/docs/cli/headless/).",
      "acceptanceCriteria": [
        "A new agent adapter for Gemini CLI is implemented in `scripts/runner-ralph/agents/`.",
        "Support for Gemini CLI's headless mode is integrated.",
        "The Gemini agent is correctly registered and selectable via the PRD configuration.",
        "The adapter correctly handles Gemini CLI's output and error formats."
      ]
    }
  ]
}
